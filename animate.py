from matplotlib import pyplot as plt
from matplotlib import animation
import numpy as np

fig = plt.figure(figsize=(20,7))

BPMs = [462, 444, 452, 432, 413, 417, 387, 396, 390, 390, 361, 354, 337, 337, 489, 347, 356, 302, 318, 293, 292,
            292, 298, 287, 295, 297, 282, 264, 234, 193, 199, 196, 202, 190, 207, 233, 236, 246, 269, 275, 295, 295,
            302, 332, 340, 367, 357, 358, 385, 383, 534, 470, 441, 443, 455, 441, 477, 490, 498, 514, 523, 542, 557,
            522, 483, 464, 459, 439, 430, 417, 401, 395, 400, 385, 378, 387, 373, 362, 356, 353, 351, 355, 342, 342,
            311, 303, 313, 343, 476, 286, 297, 270, 268, 280, 281, 283, 277, 298, 310, 313, 302, 280, 246, 233, 229,
            239, 256, 255, 282, 275, 282, 302, 295, 322, 328, 333, 344, 358, 370, 383, 410, 421, 442, 428, 437, 439,
            465, 645, 470, 501, 486, 492, 504, 512, 524, 530, 548, 549, 577, 562, 539, 496, 469, 472, 451, 450, 448,
            435, 433, 433, 423, 420, 395, 390, 381, 365, 355, 350, 342, 332, 338, 337, 299, 294, 291, 277, 428, 306,
            283, 262, 278, 276, 276, 288, 303, 306, 320, 345, 349, 330, 300, 287, 291, 298, 309, 319, 334, 340, 359,
            359, 377, 393, 401, 412, 419, 428,445, 451, 461, 473, 487, 494, 479, 492, 493, 552, 670, 495, 501, 510, 501, 502, 515, 510, 511, 526, 509,
            515, 505, 467, 426, 405, 384, 373, 372, 357, 348, 333, 330, 311, 303, 296, 284, 289, 275, 261, 261, 256,
            251, 247, 247, 259, 248, 249, 225, 228, 235, 374, 335, 270, 253, 270, 278, 298, 316, 317, 346, 368, 389,
            397, 382, 380, 356, 354, 356, 366, 387, 386, 407, 423, 428, 415, 441, 444, 447, 446, 464, 475, 470, 467,
            463, 468, 460, 466, 471, 450, 442, 428, 424, 593, 435, 419, 408, 396, 391, 400, 392, 379, 384, 393, 380,
            394, 377, 327, 311, 282, 277, 279, 272, 264, 273, 263, 259, 255, 254, 254, 244, 267, 267, 265, 283, 284,
            288, 308, 306, 299, 310, 320, 406, 476, 345, 367, 371, 392, 395, 411, 425, 440, 455, 477, 494, 495, 454,
            444, 428, 439, 436, 445, 448, 449, 460, 459, 450, 442, 448, 438, 450, 434, 444, 438, 405, 392, 384, 366,
            487, 426, 367, 349, 331, 337, 334, 333, 339, 328, 336, 346, 347, 314, 274, 245, 236, 231, 227, 234, 237,
            242, 235, 244, 244, 248, 252, 260, 270, 296, 300, 311, 302, 299, 321, 387, 514, 339, 369, 373, 394, 407]

ax = plt.axes(xlim=(0, len(BPMs)), ylim=(0, 1024))

line, = ax.plot([],[])
x1 = 0
x2 = 1
y1 = BPMs[0]
y2 = BPMs[1]

def animate(bpm):
    # print i
    # x = np.arange(0, len(BPMs))
    # line.set_data(x,BPMs)
    global x1
    global x2
    global y1
    global y2
    # line.set_data([x1,x2],[y1,y2])
    line = plt.plot((x1,x2),(y1,y2), c='b')
    x1 = x2
    y1 = y2
    x2 += 1
    y2 = bpm
    return line


def get_BPM():
    for y in BPMs:
        yield y
anim = animation.FuncAnimation(fig, animate, frames=get_BPM(), interval=40, blit=False)

plt.show()